{% extends 'base.html.twig' %}

{% block title %}Récapitulatif de ma commande
{% endblock %}

{% block body %}
	<div class="div-panier">

		<h1 class="mb-3 text-dark">
			Récapitulatif de ma commande
			<i class="fas fa-check ms-1 text-success"></i>
		</h1>

		{% if cart|length > 0 %}
			<section>
				<table class="table">
					<thead>
						<tr>
							<th>Produit</th>
							<th>Prix</th>
							<th>Quantité</th>
							<th>Total</th>
							<th></th>
						</tr>
					</thead>
					<tbody class="shadow">
						{% set total = null %}
						{% for item in cart %}
							{% set productTotal = item.product.price * item.quantity %}
							{% set total = total + productTotal %}
							<tr>
								<td>
									{{ item.product.title }}
								</td>
								<td>{{ (item.product.price / 100)|number_format(2, ',', '.') }}&euro;</td>
								<td>
									<span class="mx-3">{{ item.quantity }}</span>
								</td>
								<td>{{ (productTotal / 100)|number_format(2, ',', '.') }}&euro;</td>
								<td></td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
			</section>
		{% endif %}

		<section class="mt-5">
			<h4 class="mb-4 text-dark">Adresse & livraison</h4>
			<p>
				<i class="fas fa-dolly me-1 text-dark"></i>
				{{ transporter.title }}
				-
				{{ transporter.price }}&euro; -
				{{ transporter.content }}
			</p>
			<p>
				<i class="fas fa-location-dot me-1 text-dark"></i>
				{{ delivery|raw}}
			</p>
		</section>
	</div>
{% endblock %}
